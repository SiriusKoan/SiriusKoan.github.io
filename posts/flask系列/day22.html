<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 22 實作 main_bp</title>
    <link rel="icon" href="/img/me.jpg">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/post.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/gist.css">
</head>

<body>
    <header>
        <nav>
            <a href="/" class="header-content">SiriusKoan</a>
            <a href="/posts" class="header-content">Posts</a>
            <a href="/about.html" class="header-content">About Me</a>
        </nav>
    </header>
    <a id="top-button" href="#"><span>TOP</span></a>
    <div id="toc">
        <a href="#前言">前言</a>
        <a href="#References">References</a>
    </div>
    <main>
        <h1 id="title"><a href="#">Day 22 實作 main_bp</a></h1>
        <div class="post_content" id="前言">
            <h2><a href="#前言">前言</a></h2>
            <p>
                今天基本上進入了最重要也是最後的一個階段，但相對來說今天的內容會比較輕鬆，量也比較少。
            </p>
        </div>
        <div class="post_content" id="#main_bp">
            <h2><a href="#main_bp">main_bp</a></h2>
            <p>
                事不宜遲，就直接來看程式碼，<code>views.py</code> 是昨天在 <code>app/main/</code> 建立的那個，HTML 都要放在 <code>templates/</code> 裡面。
            </p>
            <script src="https://gist.github.com/SiriusKoan/9f6b411fe78a3160aa147225c3ee7938.js"></script>
            <p>
                先看到前面兩個 HTML，他們都是繼承之前寫好的 <code>base.html</code>，所以都非常簡單。第二個沒什麼好說的，基本上就自由發揮。第一個比較麻煩，他有 <code>code</code> 和 <code>name</code> 兩個從 <code>render_template</code> 傳過來的變數，等等在下面就會看到，在這一頁基本上就是簡單地把它們顯示出來而已。
            </p>
            <p>
                接下來看到 <code>views.py</code>，一樣第一個路徑就跳過，沒什麼好說的。第二個是處理 401 錯誤的 handler，我們在這邊讓他重新導向到登入頁面。最後一個 handler 處理所有錯誤，並且使用了 <code>e.code</code>、<code>e.name</code> 來把一些內容傳入，他們分別是 HTTP status code 和該錯誤的說明，像是 <code>Not Found</code> 之類的。在最後，我們把 <code>e.code</code> 當成回傳的 HTTP status code。
            </p>
        </div>
        <div class="post_content attachment" id="References">
            <h2><a href="References">References</a></h2>
            <a href="https://stackoverflow.com/questions/40359630/how-to-handle-ordering-of-flask-error-handlers">How to handle ordering of flask error handlers</a>
        </div>
    </main>
    <footer>
        <p id="copyright">© 2021 <a href="https://github.com/SiriusKoan" target="_blank">SiriusKoan</a></p>
    </footer>
</body>

</html>
