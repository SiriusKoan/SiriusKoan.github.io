<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 9 專案目錄結構</title>
    <link rel="icon" href="/img/me.jpg">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/post.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/gist.css">
</head>

<body>
    <header>
        <nav>
            <a href="/" class="header-content">SiriusKoan</a>
            <a href="/posts" class="header-content">Posts</a>
            <a href="/about.html" class="header-content">About Me</a>
        </nav>
    </header>
    <a id="top-button" href="#"><span>TOP</span></a>
    <div id="toc">
        <a href="#前言">前言</a>
        <a href="#工廠模式">工廠模式</a>
        <a href="#目錄結構">目錄結構</a>
        <a href="#References">References</a>
    </div>
    <main>
        <h1 id="title"><a href="#">Day 9 專案目錄結構</a></h1>
        <div class="post_content" id="前言">
            <h2><a href="#前言">前言</a></h2>
            <p>
                差不多要開始寫專案了，今天要來看一下我們專案的目錄結構，也會提到一些特別的檔案和目錄，包括之前提到的 <code>templates</code>。
            </p>
        </div>
        <div class="post_content" id="工廠模式">
            <h2><a href="#工廠模式">工廠模式</a></h2>
            <p>
                在開始看目錄結構之前，我們必須先解釋何謂工廠模式 (factory pattern)。
            </p>
            <p>
                工廠模式是指我們用一個函式來建立全部我們可能需要的 <code>app</code>。舉例來說，當我們現在是 development 狀態，那我們可以透過一個函式製造出符合現在需求的
                <code>app</code>；如果要做測試，那也可以用一樣的函式不一樣的參數去製造另一個 <code>app</code>。而同時我們也可以在這個函式做一些該有的初始化，像是資料庫等等。
            </p>
        </div>
        <div class="post_content" id="目錄結構">
            <h2><a href="#目錄結構">目錄結構</a></h2>
            <p>
                知道他大概的運作方式後，我們就來看看他的目錄結構。
            </p>
            <img src="static/directory.png" height="400px">
            <p>
                首先 <code>.gitignore</code> 是 git 的東西，可以直接無視。剩下的我們一層一層來解說，有 <code>/</code> 後綴的代表是目錄。
            </p>
            <ul>
                <li>
                    <code>app/</code> 是這個專案最重要的部分，基本上就是核心程式碼的所在之處。它裡面又有三個目錄，分別是
                    <code>admin/</code>、<code>main/</code>、<code>user/</code>，他們各自代表一個 (也可以不只一個，但我們使用一個就好) 藍圖
                    (blueprint)，一個藍圖基本上就是一堆路徑組合起來的，我們會把有類似關係的路徑放在同一個藍圖中。而這三個目錄中都有 <code>__init__.py</code>，代表他們都是
                    package，藍圖的物件最後都會從他們引入然後讓 <code>app</code> 去 register。接下來看到 <code>app/</code> 中的
                    <code>__init__.py</code>，上面提到拿來製造 <code>app</code> 的函式就會寫在這裡面，所以這裡面會引入很多 extension，因為需要初始化。
                </li>
                <li>
                    <code>static/</code> 是昨天說留給今天的部分，我們的 CSS、JS 檔案都會放在這裡，此外，一些圖片什麼的也可以放在這裡，簡單來說就是各種 flask 不會去改動的檔案。
                </li>
                <li>
                    <code>templates/</code> 在前幾天說過了，他是用來放 HTML 模板和 jinja 檔案的目錄。現在裡面已經放著昨天寫好的 <code>base.html</code> 了。
                </li>
                <li>
                    <code>tests/</code> 是用來放測試檔案的地方，我們很快就會用到了。他也有 <code>__init__.py</code>，所以也是一個 package。
                </li>
                <li>
                    <code>manage.py</code> 是一個定義指令的地方，讓我們可以用 <code>flask</code> 這個指令 (之前 <code>flask run</code> 的那個
                    <code>flask</code>) 來操縱和管理，也是很快就會遇到的檔案。
                </li>
            </ul>
        </div>
        <div class="post_content attachment" id="References">
            <h2><a href="#References">References</a></h2>
            <a href="https://www.maxlist.xyz/2020/08/06/flask-application-factories/">【Flask 教學】實作 Flask Application
                Factories 工廠模式</a>
            <a href="https://flask.palletsprojects.com/en/2.0.x/patterns/appfactories/">Application Factories</a>
        </div>
    </main>
    <footer>
        <p id="copyright">© 2021 <a href="https://github.com/SiriusKoan" target="_blank">SiriusKoan</a></p>
    </footer>
</body>

</html>